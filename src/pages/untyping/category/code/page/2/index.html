<!DOCTYPE html>
<html id="untyping" lang="en">
  <head>
    <title>Code &#8211; Untyping</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <link rel="stylesheet" type="text/css" href="/styles/screen.css" />

    <!--[if lt IE 9]>
      <link rel="stylesheet" href="/styles/ie8.css" />
      <script src="/scripts/html5shiv.js"></script>
    <![endif]-->

    <!--<link rel="stylesheet" href="/styles/pygments.css" type="text/css" media="screen">-->

    <link
      rel="alternate"
      type="application/rss+xml"
      title="Untyped RSS Feed"
      href="/feed/"
    />
    <link
      rel="alternate"
      type="application/atom+xml"
      title="Untyped Atom Feed"
      href="/feed/atom/"
    />
    <link rel="pingback" href="/xmlrpc.php" />

    <meta name="robots" content="max-image-preview:large" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="Untyped &raquo; Code Category Feed"
      href="/untyping/category/code/feed/"
    />
    <script type="text/javascript">
      /* <![CDATA[ */
      window._wpemojiSettings = {
        baseUrl: "https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/72x72\/",
        ext: ".png",
        svgUrl: "https:\/\/s.w.org\/images\/core\/emoji\/15.0.3\/svg\/",
        svgExt: ".svg",
        source: {
          concatemoji: "\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.6.2",
        },
      };
      /*! This file is auto-generated */
      !(function (i, n) {
        var o, s, e;
        function c(e) {
          try {
            var t = { supportTests: e, timestamp: new Date().valueOf() };
            sessionStorage.setItem(o, JSON.stringify(t));
          } catch (e) {}
        }
        function p(e, t, n) {
          e.clearRect(0, 0, e.canvas.width, e.canvas.height),
            e.fillText(t, 0, 0);
          var t = new Uint32Array(
              e.getImageData(0, 0, e.canvas.width, e.canvas.height).data
            ),
            r =
              (e.clearRect(0, 0, e.canvas.width, e.canvas.height),
              e.fillText(n, 0, 0),
              new Uint32Array(
                e.getImageData(0, 0, e.canvas.width, e.canvas.height).data
              ));
          return t.every(function (e, t) {
            return e === r[t];
          });
        }
        function u(e, t, n) {
          switch (t) {
            case "flag":
              return n(e, "🏳️‍⚧️", "🏳️​⚧️")
                ? !1
                : !n(e, "🇺🇳", "🇺​🇳") && !n(e, "🏴󠁧󠁢󠁥󠁮󠁧󠁿", "🏴​󠁧​󠁢​󠁥​󠁮​󠁧​󠁿");
            case "emoji":
              return !n(e, "🐦‍⬛", "🐦​⬛");
          }
          return !1;
        }
        function f(e, t, n) {
          var r =
              "undefined" != typeof WorkerGlobalScope &&
              self instanceof WorkerGlobalScope
                ? new OffscreenCanvas(300, 150)
                : i.createElement("canvas"),
            a = r.getContext("2d", { willReadFrequently: !0 }),
            o = ((a.textBaseline = "top"), (a.font = "600 32px Arial"), {});
          return (
            e.forEach(function (e) {
              o[e] = t(a, e, n);
            }),
            o
          );
        }
        function t(e) {
          var t = i.createElement("script");
          (t.src = e), (t.defer = !0), i.head.appendChild(t);
        }
        "undefined" != typeof Promise &&
          ((o = "wpEmojiSettingsSupports"),
          (s = ["flag", "emoji"]),
          (n.supports = { everything: !0, everythingExceptFlag: !0 }),
          (e = new Promise(function (e) {
            i.addEventListener("DOMContentLoaded", e, { once: !0 });
          })),
          new Promise(function (t) {
            var n = (function () {
              try {
                var e = JSON.parse(sessionStorage.getItem(o));
                if (
                  "object" == typeof e &&
                  "number" == typeof e.timestamp &&
                  new Date().valueOf() < e.timestamp + 604800 &&
                  "object" == typeof e.supportTests
                )
                  return e.supportTests;
              } catch (e) {}
              return null;
            })();
            if (!n) {
              if (
                "undefined" != typeof Worker &&
                "undefined" != typeof OffscreenCanvas &&
                "undefined" != typeof URL &&
                URL.createObjectURL &&
                "undefined" != typeof Blob
              )
                try {
                  var e =
                      "postMessage(" +
                      f.toString() +
                      "(" +
                      [JSON.stringify(s), u.toString(), p.toString()].join(
                        ","
                      ) +
                      "));",
                    r = new Blob([e], { type: "text/javascript" }),
                    a = new Worker(URL.createObjectURL(r), {
                      name: "wpTestEmojiSupports",
                    });
                  return void (a.onmessage = function (e) {
                    c((n = e.data)), a.terminate(), t(n);
                  });
                } catch (e) {}
              c((n = f(s, u, p)));
            }
            t(n);
          })
            .then(function (e) {
              for (var t in e)
                (n.supports[t] = e[t]),
                  (n.supports.everything =
                    n.supports.everything && n.supports[t]),
                  "flag" !== t &&
                    (n.supports.everythingExceptFlag =
                      n.supports.everythingExceptFlag && n.supports[t]);
              (n.supports.everythingExceptFlag =
                n.supports.everythingExceptFlag && !n.supports.flag),
                (n.DOMReady = !1),
                (n.readyCallback = function () {
                  n.DOMReady = !0;
                });
            })
            .then(function () {
              return e;
            })
            .then(function () {
              var e;
              n.supports.everything ||
                (n.readyCallback(),
                (e = n.source || {}).concatemoji
                  ? t(e.concatemoji)
                  : e.wpemoji && e.twemoji && (t(e.twemoji), t(e.wpemoji)));
            }));
      })((window, document), window._wpemojiSettings);
      /* ]]> */
    </script>
    <style id="wp-emoji-styles-inline-css" type="text/css">
      img.wp-smiley,
      img.emoji {
        display: inline !important;
        border: none !important;
        box-shadow: none !important;
        height: 1em !important;
        width: 1em !important;
        margin: 0 0.07em !important;
        vertical-align: -0.1em !important;
        background: none !important;
        padding: 0 !important;
      }
    </style>
    <link
      rel="stylesheet"
      id="wp-block-library-css"
      href="/wp-includes/css/dist/block-library/style.min.css?ver=6.6.2"
      type="text/css"
      media="all"
    />
    <style id="classic-theme-styles-inline-css" type="text/css">
      /*! This file is auto-generated */
      .wp-block-button__link {
        color: #fff;
        background-color: #32373c;
        border-radius: 9999px;
        box-shadow: none;
        text-decoration: none;
        padding: calc(0.667em + 2px) calc(1.333em + 2px);
        font-size: 1.125em;
      }
      .wp-block-file__button {
        background: #32373c;
        color: #fff;
        text-decoration: none;
      }
    </style>
    <style id="global-styles-inline-css" type="text/css">
      :root {
        --wp--preset--aspect-ratio--square: 1;
        --wp--preset--aspect-ratio--4-3: 4/3;
        --wp--preset--aspect-ratio--3-4: 3/4;
        --wp--preset--aspect-ratio--3-2: 3/2;
        --wp--preset--aspect-ratio--2-3: 2/3;
        --wp--preset--aspect-ratio--16-9: 16/9;
        --wp--preset--aspect-ratio--9-16: 9/16;
        --wp--preset--color--black: #000000;
        --wp--preset--color--cyan-bluish-gray: #abb8c3;
        --wp--preset--color--white: #ffffff;
        --wp--preset--color--pale-pink: #f78da7;
        --wp--preset--color--vivid-red: #cf2e2e;
        --wp--preset--color--luminous-vivid-orange: #ff6900;
        --wp--preset--color--luminous-vivid-amber: #fcb900;
        --wp--preset--color--light-green-cyan: #7bdcb5;
        --wp--preset--color--vivid-green-cyan: #00d084;
        --wp--preset--color--pale-cyan-blue: #8ed1fc;
        --wp--preset--color--vivid-cyan-blue: #0693e3;
        --wp--preset--color--vivid-purple: #9b51e0;
        --wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(
          135deg,
          rgba(6, 147, 227, 1) 0%,
          rgb(155, 81, 224) 100%
        );
        --wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(
          135deg,
          rgb(122, 220, 180) 0%,
          rgb(0, 208, 130) 100%
        );
        --wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(
          135deg,
          rgba(252, 185, 0, 1) 0%,
          rgba(255, 105, 0, 1) 100%
        );
        --wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(
          135deg,
          rgba(255, 105, 0, 1) 0%,
          rgb(207, 46, 46) 100%
        );
        --wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(
          135deg,
          rgb(238, 238, 238) 0%,
          rgb(169, 184, 195) 100%
        );
        --wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(
          135deg,
          rgb(74, 234, 220) 0%,
          rgb(151, 120, 209) 20%,
          rgb(207, 42, 186) 40%,
          rgb(238, 44, 130) 60%,
          rgb(251, 105, 98) 80%,
          rgb(254, 248, 76) 100%
        );
        --wp--preset--gradient--blush-light-purple: linear-gradient(
          135deg,
          rgb(255, 206, 236) 0%,
          rgb(152, 150, 240) 100%
        );
        --wp--preset--gradient--blush-bordeaux: linear-gradient(
          135deg,
          rgb(254, 205, 165) 0%,
          rgb(254, 45, 45) 50%,
          rgb(107, 0, 62) 100%
        );
        --wp--preset--gradient--luminous-dusk: linear-gradient(
          135deg,
          rgb(255, 203, 112) 0%,
          rgb(199, 81, 192) 50%,
          rgb(65, 88, 208) 100%
        );
        --wp--preset--gradient--pale-ocean: linear-gradient(
          135deg,
          rgb(255, 245, 203) 0%,
          rgb(182, 227, 212) 50%,
          rgb(51, 167, 181) 100%
        );
        --wp--preset--gradient--electric-grass: linear-gradient(
          135deg,
          rgb(202, 248, 128) 0%,
          rgb(113, 206, 126) 100%
        );
        --wp--preset--gradient--midnight: linear-gradient(
          135deg,
          rgb(2, 3, 129) 0%,
          rgb(40, 116, 252) 100%
        );
        --wp--preset--font-size--small: 13px;
        --wp--preset--font-size--medium: 20px;
        --wp--preset--font-size--large: 36px;
        --wp--preset--font-size--x-large: 42px;
        --wp--preset--spacing--20: 0.44rem;
        --wp--preset--spacing--30: 0.67rem;
        --wp--preset--spacing--40: 1rem;
        --wp--preset--spacing--50: 1.5rem;
        --wp--preset--spacing--60: 2.25rem;
        --wp--preset--spacing--70: 3.38rem;
        --wp--preset--spacing--80: 5.06rem;
        --wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);
        --wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);
        --wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);
        --wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1),
          6px 6px rgba(0, 0, 0, 1);
        --wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);
      }
      :where(.is-layout-flex) {
        gap: 0.5em;
      }
      :where(.is-layout-grid) {
        gap: 0.5em;
      }
      body .is-layout-flex {
        display: flex;
      }
      .is-layout-flex {
        flex-wrap: wrap;
        align-items: center;
      }
      .is-layout-flex > :is(*, div) {
        margin: 0;
      }
      body .is-layout-grid {
        display: grid;
      }
      .is-layout-grid > :is(*, div) {
        margin: 0;
      }
      :where(.wp-block-columns.is-layout-flex) {
        gap: 2em;
      }
      :where(.wp-block-columns.is-layout-grid) {
        gap: 2em;
      }
      :where(.wp-block-post-template.is-layout-flex) {
        gap: 1.25em;
      }
      :where(.wp-block-post-template.is-layout-grid) {
        gap: 1.25em;
      }
      .has-black-color {
        color: var(--wp--preset--color--black) !important;
      }
      .has-cyan-bluish-gray-color {
        color: var(--wp--preset--color--cyan-bluish-gray) !important;
      }
      .has-white-color {
        color: var(--wp--preset--color--white) !important;
      }
      .has-pale-pink-color {
        color: var(--wp--preset--color--pale-pink) !important;
      }
      .has-vivid-red-color {
        color: var(--wp--preset--color--vivid-red) !important;
      }
      .has-luminous-vivid-orange-color {
        color: var(--wp--preset--color--luminous-vivid-orange) !important;
      }
      .has-luminous-vivid-amber-color {
        color: var(--wp--preset--color--luminous-vivid-amber) !important;
      }
      .has-light-green-cyan-color {
        color: var(--wp--preset--color--light-green-cyan) !important;
      }
      .has-vivid-green-cyan-color {
        color: var(--wp--preset--color--vivid-green-cyan) !important;
      }
      .has-pale-cyan-blue-color {
        color: var(--wp--preset--color--pale-cyan-blue) !important;
      }
      .has-vivid-cyan-blue-color {
        color: var(--wp--preset--color--vivid-cyan-blue) !important;
      }
      .has-vivid-purple-color {
        color: var(--wp--preset--color--vivid-purple) !important;
      }
      .has-black-background-color {
        background-color: var(--wp--preset--color--black) !important;
      }
      .has-cyan-bluish-gray-background-color {
        background-color: var(--wp--preset--color--cyan-bluish-gray) !important;
      }
      .has-white-background-color {
        background-color: var(--wp--preset--color--white) !important;
      }
      .has-pale-pink-background-color {
        background-color: var(--wp--preset--color--pale-pink) !important;
      }
      .has-vivid-red-background-color {
        background-color: var(--wp--preset--color--vivid-red) !important;
      }
      .has-luminous-vivid-orange-background-color {
        background-color: var(
          --wp--preset--color--luminous-vivid-orange
        ) !important;
      }
      .has-luminous-vivid-amber-background-color {
        background-color: var(
          --wp--preset--color--luminous-vivid-amber
        ) !important;
      }
      .has-light-green-cyan-background-color {
        background-color: var(--wp--preset--color--light-green-cyan) !important;
      }
      .has-vivid-green-cyan-background-color {
        background-color: var(--wp--preset--color--vivid-green-cyan) !important;
      }
      .has-pale-cyan-blue-background-color {
        background-color: var(--wp--preset--color--pale-cyan-blue) !important;
      }
      .has-vivid-cyan-blue-background-color {
        background-color: var(--wp--preset--color--vivid-cyan-blue) !important;
      }
      .has-vivid-purple-background-color {
        background-color: var(--wp--preset--color--vivid-purple) !important;
      }
      .has-black-border-color {
        border-color: var(--wp--preset--color--black) !important;
      }
      .has-cyan-bluish-gray-border-color {
        border-color: var(--wp--preset--color--cyan-bluish-gray) !important;
      }
      .has-white-border-color {
        border-color: var(--wp--preset--color--white) !important;
      }
      .has-pale-pink-border-color {
        border-color: var(--wp--preset--color--pale-pink) !important;
      }
      .has-vivid-red-border-color {
        border-color: var(--wp--preset--color--vivid-red) !important;
      }
      .has-luminous-vivid-orange-border-color {
        border-color: var(
          --wp--preset--color--luminous-vivid-orange
        ) !important;
      }
      .has-luminous-vivid-amber-border-color {
        border-color: var(--wp--preset--color--luminous-vivid-amber) !important;
      }
      .has-light-green-cyan-border-color {
        border-color: var(--wp--preset--color--light-green-cyan) !important;
      }
      .has-vivid-green-cyan-border-color {
        border-color: var(--wp--preset--color--vivid-green-cyan) !important;
      }
      .has-pale-cyan-blue-border-color {
        border-color: var(--wp--preset--color--pale-cyan-blue) !important;
      }
      .has-vivid-cyan-blue-border-color {
        border-color: var(--wp--preset--color--vivid-cyan-blue) !important;
      }
      .has-vivid-purple-border-color {
        border-color: var(--wp--preset--color--vivid-purple) !important;
      }
      .has-vivid-cyan-blue-to-vivid-purple-gradient-background {
        background: var(
          --wp--preset--gradient--vivid-cyan-blue-to-vivid-purple
        ) !important;
      }
      .has-light-green-cyan-to-vivid-green-cyan-gradient-background {
        background: var(
          --wp--preset--gradient--light-green-cyan-to-vivid-green-cyan
        ) !important;
      }
      .has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background {
        background: var(
          --wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange
        ) !important;
      }
      .has-luminous-vivid-orange-to-vivid-red-gradient-background {
        background: var(
          --wp--preset--gradient--luminous-vivid-orange-to-vivid-red
        ) !important;
      }
      .has-very-light-gray-to-cyan-bluish-gray-gradient-background {
        background: var(
          --wp--preset--gradient--very-light-gray-to-cyan-bluish-gray
        ) !important;
      }
      .has-cool-to-warm-spectrum-gradient-background {
        background: var(
          --wp--preset--gradient--cool-to-warm-spectrum
        ) !important;
      }
      .has-blush-light-purple-gradient-background {
        background: var(--wp--preset--gradient--blush-light-purple) !important;
      }
      .has-blush-bordeaux-gradient-background {
        background: var(--wp--preset--gradient--blush-bordeaux) !important;
      }
      .has-luminous-dusk-gradient-background {
        background: var(--wp--preset--gradient--luminous-dusk) !important;
      }
      .has-pale-ocean-gradient-background {
        background: var(--wp--preset--gradient--pale-ocean) !important;
      }
      .has-electric-grass-gradient-background {
        background: var(--wp--preset--gradient--electric-grass) !important;
      }
      .has-midnight-gradient-background {
        background: var(--wp--preset--gradient--midnight) !important;
      }
      .has-small-font-size {
        font-size: var(--wp--preset--font-size--small) !important;
      }
      .has-medium-font-size {
        font-size: var(--wp--preset--font-size--medium) !important;
      }
      .has-large-font-size {
        font-size: var(--wp--preset--font-size--large) !important;
      }
      .has-x-large-font-size {
        font-size: var(--wp--preset--font-size--x-large) !important;
      }
      :where(.wp-block-post-template.is-layout-flex) {
        gap: 1.25em;
      }
      :where(.wp-block-post-template.is-layout-grid) {
        gap: 1.25em;
      }
      :where(.wp-block-columns.is-layout-flex) {
        gap: 2em;
      }
      :where(.wp-block-columns.is-layout-grid) {
        gap: 2em;
      }
      :root :where(.wp-block-pullquote) {
        font-size: 1.5em;
        line-height: 1.6;
      }
    </style>
    <link rel="https://api.w.org/" href="/wp-json/" />
    <link
      rel="alternate"
      title="JSON"
      type="application/json"
      href="/wp-json/wp/v2/categories/7"
    />
    <link
      rel="EditURI"
      type="application/rsd+xml"
      title="RSD"
      href="/xmlrpc.php?rsd"
    />
    <style type="text/css">
      .recentcomments a {
        display: inline !important;
        padding: 0 !important;
        margin: 0 !important;
      }
    </style>
  </head>

  <body class="myna" data-goal="load">
    <header id="top">
      <div class="container">
        <div class="row">
          <div class="span5 offset7">
            <div class="overlay title">
              <a href="/untyping">
                <h1>
                  <img src="/styles/images/untyping-logo.png" alt="Untyping" />
                </h1>
                <span class="strapline">The Untyped Weblog.</span>
              </a>
            </div>

            <div class="overlay about">
              Read on and leave a comment<br />
              or <a href="/">return to our portfolio.</a>
            </div>
          </div>
        </div>
      </div>

      <div class="shadow bottom"></div>
    </header>

    <div id="navbar-wrapper">
      <nav id="navbar" class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <ul class="nav">
              <li><a href="/#top">Home</a></li>
              <li><a href="/untyping">Weblog</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div class="shadow-wrapper">
      <div class="shadow top light"></div>

      <div class="container">
        <h1 class="pagetitle">Posts in the &#8216;Code&#8217; category</h1>

        <div class="row">
          <div id="blog" class="span10">
            <section
              id="post-46"
              class="post-46 post type-post status-publish format-standard hentry category-code category-functional-programming category-scala category-web-development"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">1 Dec 2010</p>
                  <p class="author">by Dave</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/12/01/file-upload-using-comet-actors/"
                      rel="bookmark"
                      title="Permanent Link to File upload using Comet Actors"
                      >File upload using Comet Actors</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      We’ve been using the <a href="http://liftweb.net/">Lift</a
                      > web framework for a lot of web development work
                      recently, and we’re very impressed some of its features.
                      Lift’s Comet support, in particular, is a blessing for the
                      kind of data-crunching back-end web sites we typically get
                      involved in.
                    </p>
                    <p>
                      Importing data from uploaded files, for example,
                      frequently causes trouble. An import can take from a few
                      seconds to a few minutes depending on the size of the file
                      and the complexity of the data processing and validation
                      involved. If the import takes more than a few seconds
                      there is an increasing risk that the web browser will time
                      out. If this happens we fail, because the user won’t know
                      whether the import succeeded or not. Lift’s Comet actors
                      provide a simple way around this problem. But before
                      describing how they work, let’s quickly go over <a
                        href="http://en.wikipedia.org/wiki/Comet_(programming)"
                        >Comet</a
                      > and <a href="http://en.wikipedia.org/wiki/Actor_model"
                        >actors</a
                      >.
                    </p>
                    <p>
                      Comet is a way of doing push notifications over HTTP,
                      which on the face of it appears to only support pull.
                      Without the jargon, this means a way of allowing the
                      server to send information to the web browser when that
                      information is ready, not when the web browser checks for
                      it. This gives us a better interface, as the UI can
                      instantly reflect new data, and better resource
                      consumption, as the client doesn’t have to continuously
                      poll the server.
                    </p>
                    <p>
                      There are two or three common ways of <a
                        href="http://en.wikipedia.org/wiki/Comet_(programming)#Implementations"
                        >implementing Comet</a
                      >. Lift uses a mechanism called “long polling”, which
                      implements Comet using plain old AJAX. As soon as the web
                      page loads, the web browser sends an XMLHTTP request to
                      the server. Instead of replying immediately the server
                      keeps the connection around until it has information to
                      push back. When information is available, the web server
                      responds to the HTTP request, and the browser processes
                      the response and immediately makes another request.  In
                      other words, long polling uses HTTP’s pull mechanism to
                      simulate push communication. This is all well and good,
                      but it immediately raises two issues: how do we manage a
                      large number of open, but idle, connections without
                      swamping the server, and what programming model do we use
                      to manage the additional complexity of Comet applications.
                    </p>
                    <p>
                      Handing many idle open connections is relatively simple.
                      The traditional model is to use one thread per request,
                      but this doesn’t scale when many requests are idle for
                      long periods. All modern operating systems provide a
                      scalable event notification system, such as <a
                        href="http://en.wikipedia.org/wiki/Epoll"
                        >epoll</a
                      > or <a href="http://en.wikipedia.org/wiki/Kqueue"
                        >kqueue</a
                      >, allowing a single thread to simultaneously monitor many
                      connections for data. The JVM provides access to these
                      systems via the <a
                        href="http://download.oracle.com/javase/6/docs/api/java/nio/channels/Selector.html"
                        >Selector</a
                      > abstraction in the <a
                        href="http://en.wikipedia.org/wiki/New_I/O"
                        >NIO</a
                      > package. All this is taken care of in the web framework,
                      so the application programmer does not need to be aware of
                      it. (Note that other languages present the same facilities
                      in different ways. Erlang, for example, presents all IO
                      operations as blocking, but the implementation uses the
                      same scalable non-blocking OS services as the JVM. Erlang
                      can do this as it doesn’t use as many resources per thread
                      as the JVM does. This is an appealing choice as it
                      provides a uniformity not found on the JVM, but impacts
                      how Erlang handles multicore.)
                    </p>
                    <p>
                      More relevant to the application programmer is the
                      programming model used for Comet, and this is where actors
                      come in. An actor is basically a thread with the important
                      restriction that it only communicates with the outside
                      world via messages. To ask an actor to do something, you
                      send it a message. This is rather like a method call,
                      except that the actor queues the message and processes it
                      asynchronously. When an actor wants to communicate with
                      another resource, it sends that resource a message. Since
                      actors never share state with each other, there is never a
                      need to lock resources to avoid concurrent access. This is
                      a great model because all the complexities of programming
                      with locks disappear. If you are interested in more
                      information on the actor model in Scala try <a
                        href="http://lamp.epfl.ch/~phaller/actors.html"
                        >here for the original papers</a
                      >, <a href="http://akkasource.org/"
                        >here for the Akka framework</a
                      > and <a
                        href="http://blog.lostlake.org/index.php?/archives/96-Migrating-from-Scala-Actors-to-Lift-Actors.html"
                        >here for a bit on Lift’s actors</a
                      >.
                    </p>
                    <p>
                      Actors are a natural fit for Comet. On the server each
                      Comet connection is handled by a <em>Comet actor,</em
                      > whose job it is to manage communication with a connected
                      browser. Each actor is bound to a single user’s session,
                      but actors persist across web requests. We can
                      asynchronously send an actor messages (whether the user is
                      looking at the web page or not), and have the actor buffer
                      them for transmission to the browser. This means we’ve got
                      almost all of our file upload functionality straight out
                      of the box, without having to do any particularly tricky
                      development.
                    </p>
                    <p>
                      We put a proof-of-concept of the file uploader <a
                        href="https://github.com/junglebarry/CometImport"
                        >on Github</a
                      >. The basic structure of the code is:
                    </p>
                    <ul>
                      <li>
                        When a file is uploaded it is handed off to a thread for
                        processing, and a Comet actor is started to communicate
                        with the client.
                      </li>
                      <li>
                        The processing thread periodically sends messages to the
                        actor, informing it of progress on the file upload.
                      </li>
                      <li>
                        The Comet actor in turn communicates progress to the
                        client.
                      </li>
                    </ul>
                    <p>
                      The great thing about this arrangement is that the user
                      can navigate away from the page without aborting the file
                      upload, and if they later return to the page they will get
                      a progress update. It makes for a very pleasant UI.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >,
                    <a
                      href="/untyping/category/functional-programming/"
                      rel="category tag"
                      >Functional Programming</a
                    >,
                    <a href="/untyping/category/scala/" rel="category tag"
                      >Scala</a
                    >,
                    <a
                      href="/untyping/category/web-development/"
                      rel="category tag"
                      >Web development</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on File upload using Comet Actors</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-48"
              class="post-48 post type-post status-publish format-standard hentry category-code category-racket"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">26 Nov 2010</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/11/26/interested-in-a-book-on-racket/"
                      rel="bookmark"
                      title="Permanent Link to Interested in a Book on Racket?"
                      >Interested in a Book on Racket?</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      If you are interested in a book on <a
                        href="http://www.racket-lang.org/"
                        >Racket</a
                      > (formerly PLT Scheme) I’d appreciate it if you could
                      fill out <a href="http://www.surveymonkey.com/s/MKQL3YX"
                        >this survey</a
                      >. Thanks!
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >,
                    <a href="/untyping/category/racket/" rel="category tag"
                      >Racket</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Interested in a Book on Racket?</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-50"
              class="post-50 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">19 Nov 2010</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/11/19/a-reflection-on-working-in-a-team/"
                      rel="bookmark"
                      title="Permanent Link to A Reflection on Working in a Team"
                      >A Reflection on Working in a Team</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      Being in the office more frequently has given me more
                      opportunity to work in a team; for better or worse (and
                      mostly worse, in my opinion) the PhD students in my lab
                      tended to work alone. An interesting example of the
                      benefits of team working arose a few days ago. We are in
                      the process of shifting <a href="http://www.getkahu.com/"
                        >Kahu</a
                      > from its current colo server to a VM. As part of this
                      move we want to benchmark the two servers, to make sure
                      the new VM isn’t going to give us an unexpected
                      performance hit. To do the benchmarking we needed to log
                      more performance statistics, and adding logging to our
                      code was the task Dave and I were working on. I started
                      with a grand plan: we would write three libraries, one for
                      logging, one for bechmarking, and one for logging
                      benchmark data. I remember feeling frustrated as we
                      discussed it as the plan was clear in my mind and I
                      thought I could easily get on and code it alone. However,
                      as we talked more it became apparent the existing tools we
                      had were good enough for most of what we wanted. In the
                      end we wrote a single macro and were done. From three
                      libraries down to four lines of code is a pretty good
                      reduction in effort.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on A Reflection on Working in a Team</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-54"
              class="post-54 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">18 Jul 2010</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/07/18/open-source-libraries-now-on-github/"
                      rel="bookmark"
                      title="Permanent Link to Open source libraries now on GitHub"
                      >Open source libraries now on GitHub</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      We are excited to announce that we’ve moved all of our
                      open source code to <a href="http://github.com/">Github</a
                      >!
                    </p>
                    <p>
                      If you want to use our libraries in your application, we
                      recommend getting hold of them via <a
                        href="http://planet.racket-lang.com/"
                        >PLaneT</a
                      > as usual. If you want to live on the edge or hack on
                      things, however, you’ll find the libraries <a
                        href="http://github.com/untyped"
                        >here</a
                      > and build instructions <a
                        href="http://untyped.github.com/"
                        >here</a
                      >.
                    </p>
                    <p>
                      We’re still working on the best way of organising and
                      documenting everything. If you have any advice, please <a
                        href="/contact.html"
                        >get in touch</a
                      > or leave us a note in the comments.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Open source libraries now on GitHub</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-62"
              class="post-62 post type-post status-publish format-standard hentry category-code category-racket category-web-development"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">10 Jun 2010</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/06/10/selenium-client-for-racket/"
                      rel="bookmark"
                      title="Permanent Link to Selenium client for Racket"
                      >Selenium client for Racket</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      <a href="http://en.wikipedia.org/wiki/Acceptance_testing"
                        >Acceptance testing</a
                      > is a must for any developer of complex web
                      applications. <a href="http://www.seleniumhq.org/"
                        >Selenium</a
                      > is a suite of tools to help automate acceptance by <a
                        href="http://seleniumhq.org/projects/ide/"
                        >recording user actions</a
                      >, turning them into code, and playing them back in a <a
                        href="http://seleniumhq.org/projects/remote-control/"
                        >remote controlled web browser</a
                      >.
                    </p>
                    <p>
                      Now, thanks to a lazy Saturday afternoon and a rather nice
                      bottle of ginger beer, the joys of Selenium are available
                      to the <a href="http://www.racket-lang.org/">Racket</a
                      >community by way of our new <a
                        href="http://github.com/untyped/selenium-plt"
                        >Selenium PLT</a
                      > library. Check it out on our <a
                        href="http://github.com/untyped"
                        >Github page</a
                      > and let us know how you get on!
                    </p>
                    <p>
                      Those of you familiar with our open source libraries may
                      know about<a
                        href="http://planet.racket-lang.org/display.ss?package=delirium.plt&amp;owner=untyped"
                        >Delirium</a
                      >, our re-implementation of Selenium using the <a
                        href="http://docs.racket-lang.org/web-server-internal/index.html"
                        >Racket HTTP Server</a
                      >. Delirium was a great project that made for an elegant
                      demonstration of the power of continuations in web
                      development.
                    </p>
                    <p>
                      You may fairly ask the question: why, if Delirium is so
                      good, are we releasing bindings for Selenium? There are
                      several answers to this. The main reason is time:
                      maintaining compatibility across all the major browsers is
                      a difficult process, and that’s time we could be devoting
                      to our other <a
                        href="http://planet.racket-lang.org/display.ss?owner=untyped"
                        >pet projects</a
                      >. Second, we’re doing a lot of web development in other
                      languages these days; for example, we’re currently working
                      on a project using <a href="http://www.scala-lang.org/"
                        >Scala</a
                      > and <a href="http://liftweb.net/">Lift</a>. There are
                      already bindings for Selenium in most of these languages,
                      and it makes sense to use the same tools across the board.
                    </p>
                    <p>
                      Current Delirium users shouldn’t worry – we will continue
                      to develop all of our libraries to maintain compatibility
                      with new versions of Racket. Our plans internally are to
                      switch to Selenium for new projects, and to keep using
                      Delirium for our existing code. If the time does come to
                      switch away from Delirium, you should find translation to
                      our Selenium bindings to be quite straightforward.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >,
                    <a href="/untyping/category/racket/" rel="category tag"
                      >Racket</a
                    >,
                    <a
                      href="/untyping/category/web-development/"
                      rel="category tag"
                      >Web development</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Selenium client for Racket</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-68"
              class="post-68 post type-post status-publish format-standard hentry category-business category-code category-general"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">20 Apr 2010</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2010/04/20/formalising-bonds-with-the-informal/"
                      rel="bookmark"
                      title="Permanent Link to Formalising Bonds with the Informal"
                      >Formalising Bonds with the Informal</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      There is an interesting move underway by the US Securities
                      and Exchange Commission (SEC) to more precisely define the
                      meaning of certain asset backed securities (like the now
                      infamous mortgage-backed securities that were central to
                      the recent crash). The NY times has <a
                        href="http://www.nytimes.com/2010/04/08/business/08sec.html"
                        >covered the story</a
                      > from a high level, but what of particular interest to me
                      is the proposal to <a
                        href="http://jrvarma.wordpress.com/2010/04/16/the-sec-and-the-python/"
                        >specify the meaning of the bonds in Python.</a
                      > This is a step is the right direction but Python is not
                      the answer.
                    </p>
                    <p>
                      The core problem here is to give a clear and unambiguous
                      meaning to a bond. This requires the language in which it
                      is written is precisely defined. Python is not precisely
                      defined. There is only a prose definition of the language,
                      which is inadequate in the same way that the prose
                      definitions of bonds are inadequate, and of course there
                      are differences between various versions and
                      implementation of Python. Since Python is not precisely
                      defined the only meaning one can give to a program in
                      Python is whatever the particular implementation one uses
                      does with that program.
                    </p>
                    <p>
                      In contrast there are languages that are formally defined,
                      such<a
                        href="http://mitpress.mit.edu/book-home.tcl?isbn=0262631814"
                        >Standard ML</a
                      > and <a
                        href="http://www.r6rs.org/final/html/r6rs/r6rs-Z-H-15.html#node_idx_840"
                        >Scheme</a
                      >. These would make a sound basis for the formal
                      definition of bonds. In turns out that functional
                      languages also make a good (meaning expressive and
                      convenient) basis for the formal definition of bonds.
                      There is a great paper on <a
                        href="http://research.microsoft.com/en-us/um/people/simonpj/papers/financial-contracts/contracts-icfp.htm"
                        >expressing contracts in Haskell</a
                      > and at least <a href="http://lexifi.com/">one company</a
                      > has implemented this idea in a commercial system (in
                      O’Caml, I believe). So my advice to the SEC: use an
                      appropriate subset of Scheme or Standard ML, or hire
                      someone to create a formally defined DSL, but don’t use a
                      language without a formal definition if precision is your
                      goal.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/business/" rel="category tag"
                      >Business</a
                    >,
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >,
                    <a href="/untyping/category/general/" rel="category tag"
                      >General</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Formalising Bonds with the Informal</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-82"
              class="post-82 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">5 Jun 2009</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2009/06/05/libraries-update/"
                      rel="bookmark"
                      title="Permanent Link to Libraries update"
                      >Libraries update</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      We produce a lot of open source code at Untyped, all of
                      which is available from our <a
                        href="http://svn.untyped.com/"
                        >Subversion repository</a
                      >. You can check out a read-only copy of our repository at
                      any time. If you want to work on a branch without getting
                      commit access to our repository, you might find <a
                        href="http://www.kernel.org/pub/software/scm/git/docs/git-svn.html"
                        >git-svn</a
                      > or <a
                        href="http://www.selenic.com/mercurial/wiki/SubversionToMercurialHowto"
                        >Mercurial’s Subversion integration</a
                      > useful. If you’d like to collaborate on development (and
                      we’re open to all kinds of collaboration, including
                      student/academic work) it is probably simplest to drop us
                      an email (noel or dave at untyped dot com) to arrange
                      things. There is a lot of stuff in there, so here’s a
                      quick summary of the most interesting things we are
                      currently working on.
                    </p>
                    <p>
                      <a title="Snooze" href="http://svn.untyped.com/snooze"
                        >Snooze</a
                      > is our flagship database abstraction layer, comparable
                      to Hibernate or ActiveRecord. Snooze 2, which is out on <a
                        href="http://planet.plt-scheme.org/display.ss?package=snooze.plt&amp;owner=untyped"
                        >PLaneT</a
                      > now, contains a robust query language and support for
                      whole-model validation. Development on the version 3 of
                      the library is underway, with emphasis on caching and
                      inter-struct relationships.
                    </p>
                    <p>
                      <a href="http://svn.untyped.com/mirrors">Mirrors</a> is
                      our library for programmatic generation of XHTML and
                      Javascript. It allows you to build blocks of code using a
                      syntax similar to Scheme’s quoted lists. Rendering is done
                      at compile-time as far as possible, so you get the
                      convenience and compositional properties of quoted lists
                      with the speed of PHP-style mechanisms. We intend to add
                      support for CSS in a future release.
                    </p>
                    <p>
                      <a href="http://svn.untyped.com/delirium">Delirium</a> is
                      our web UI testing library, similar to <a
                        href="http://seleniumhq.org/"
                        >Selenium</a
                      > but with the expressive power of <a
                        href="http://planet.plt-scheme.org/display.ss?package=schemeunit.plt&amp;owner=schematics"
                        >SchemeUnit</a
                      >. Versions 2 and 3, both on PLaneT, have equivalent
                      feature sets: version 2 supports PLT 4.1.3 and earlier,
                      while version 3 supports PLT 4.1.3 and upwards.
                    </p>
                    <p>
                      <a href="http://svn.untyped.com/smoke">Smoke</a> is our UI
                      creation library (the partner library to Mirrors, pun
                      definitely intended). While we have deployed this in a
                      number of production applications, the interface is
                      subject to constant tweaking so we haven’t published it to
                      PLaneT. You can still get hold of the code from SVN and
                      play with it, though!
                    </p>
                    <p>
                      <a href="http://svn.untyped.com/dispatch">Dispatch</a>,
                      our controller-to-URL mapping library, has been partly
                      subsumed as its core features have been rolled into
                      PLT’s <a
                        href="http://docs.plt-scheme.org/web-server/dispatch.html"
                        >web-server/dispatch</a
                      > library. There is still room for both systems, though,
                      as the PLT library is built with simplicity in mind,
                      whereas Dispatch was built to simplify web development. We
                      plan on “rebooting” the Dispatch franchise with a version
                      that wraps web-server/dispatch with some new features.
                    </p>
                    <p>
                      <a
                        href="http://planet.plt-scheme.org/display.ss?package=schemeunit.plt&amp;owner=schematics"
                        >SchemeUnit</a
                      >, Noel’s excellent unit testing package, is as strong as
                      ever. A version recently got rolled into PLT core, but you
                      can still get the PLaneT package for the latest updates
                      from Noel. Note that SchemeUnit’s code is hosted at <a
                        href="http://schematics.sf.net/"
                        >Schematics</a
                      >.
                    </p>
                    <p>Other points of interest:</p>
                    <ul>
                      <li>
                        <a href="http://svn.untyped.com/unlib">Unlib</a> is
                        still going strong, with new shorthand <a
                          href="http://planet.plt-scheme.org/package-source/untyped/unlib.plt/3/15/planet-docs/unlib/require.html"
                          >require/provide</a
                        >syntaxes that can fetch stuff directly from SVN, a more
                        humane version of <a
                          href="http://planet.plt-scheme.org/package-source/untyped/unlib.plt/3/15/planet-docs/unlib/keyword.html"
                          >keyword-apply</a
                        >, and some utilities to support <a
                          href="http://planet.plt-scheme.org/package-source/untyped/unlib.plt/3/15/planet-docs/unlib/syntax.html"
                          >dotted identifiers</a
                        > in our other libraries.
                      </li>
                      <li>
                        <a href="http://svn.untyped.com/excel">Excel</a>, as its
                        name suggests, is a library for creating Excel files in
                        functional drawing style. It supports all the basics:
                        formulae, inter-cell references, number formats, fonts,
                        borders and fills, conditional formatting, and cell
                        validation.
                      </li>
                      <li>
                        <a href="http://svn.untyped.com/autoplanet"
                          >Autoplanet</a
                        > is a tool for deploying applications without having to
                        worry about changing dependencies. It creates an
                        application-local PLaneT cache and can be configured to
                        download and install packages from PLaneT, SVN, or the
                        local filesystem.
                      </li>
                    </ul>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Libraries update</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-90"
              class="post-90 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">27 Jan 2009</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2009/01/27/untyped-open-source-repository-open-for-business/"
                      rel="bookmark"
                      title="Permanent Link to Untyped open source repository: open for business"
                      >Untyped open source repository: open for business</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      It’s been a long time coming, but we are proud to announce
                      the launch of the <a href="http://svn.untyped.com/"
                        >Untyped open source repository!</a
                      >
                    </p>
                    <p>
                      This public Subversion repository houses the source code
                      for our open source projects, including popular PLT Scheme
                      packages such as <a
                        title="Dispatch on PLaneT"
                        href="http://planet.plt-scheme.org/display.ss?package=dispatch.plt&amp;owner=untyped"
                        >Dispatch</a
                      >, <a
                        title="Snooze on PLaneT"
                        href="http://planet.plt-scheme.org/display.ss?package=snooze.plt&amp;owner=untyped"
                        >Snooze</a
                      > and <a
                        title="Mirrors on PLaneT"
                        href="http://planet.plt-scheme.org/display.ss?package=mirrors.plt&amp;owner=untyped"
                        >Mirrors</a
                      > as well as a few things you won’t find on <a
                        href="http://planet.plt-scheme.org/"
                        >PLaneT</a
                      >.  It’s all free and open source, but please make sure
                      you agree to our <a href="http://svn.untyped.com/README"
                        >terms of use</a
                      > before you get stuck in.
                    </p>
                    <p>
                      You can check out any or all the projects using command
                      line SVN. For example:
                    </p>
                    <pre>
  svn co http://svn.untyped.com/mirrors/trunk mirrors-trunk</pre
                    >
                    <div>
                      It’s no-frills at the moment – SVN and web browser support
                      only – but we plan to prettify things in the future. See
                      the <a href="http://svn.untyped.com/README">README</a
                      > file for more information.
                    </div>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Untyped open source repository: open for
                        business</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-98"
              class="post-98 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">5 Nov 2008</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2008/11/05/tests-as-todos/"
                      rel="bookmark"
                      title="Permanent Link to Tests as todos"
                      >Tests as todos</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      Like most people I have a few projects on the go at once.
                      To efficiently switch between them I must be able to
                      quickly pick up where I left off. In my programming
                      projects I’ve been using failing tests as reminders to
                      myself. This fits in nicely with my programming workflow,
                      and enables me to make progress before I’ve recalled all
                      the details of the project I’m working on. Here’s how it
                      works:
                    </p>
                    <p>
                      In my programming workflow I cycle between writing tests,
                      writing code, and running tests (this is just <a
                        href="http://en.wikipedia.org/wiki/Test-driven_development"
                        >test driven development</a
                      >). When I’m about to stop working on a project I write
                      some failing tests, which act as a specification for what
                      I should do next. At this point in time I’ve been working
                      on the project for a while so I have recalled its
                      structure and I’m in a good position to make this
                      decision.
                    </p>
                    <p>
                      When I pick up a project after a break I enter straight
                      into my normal workflow and run my tests. I inspect the
                      failing tests and start implementing the functionality
                      they specify. At this point in time I don’t even have to
                      remember why I’m implementing this; the tests provide
                      enough detail that I can just start coding. As I do so I
                      invariably recall more details of the project. By the time
                      I’ve finished the feature I’m ready to go at full speed.
                    </p>
                    <p>
                      This technique allows me to “hide” the time it takes to
                      recall the project details; I still get useful work done
                      in this period. It’s quite a simple idea and no doubt some
                      of you are already using it, but if you haven’t tried it,
                      give it a shot.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Tests as todos</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-104"
              class="post-104 post type-post status-publish format-standard hentry category-code"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">27 Sep 2008</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2008/09/27/commercial-use-articles-in-the-journal-of-functional-programming/"
                      rel="bookmark"
                      title="Permanent Link to Commercial use articles in the Journal of Functional Programming"
                      >Commercial use articles in the Journal of Functional
                      Programming</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      Further evidence of the increasing commercial relevance of
                      functional programming (and just as important, the desire
                      of the academic community for said relevance) is the
                      announcement that the Journal of Functional Programming is
                      now accepting <a
                        href="http://journals.cambridge.org/action/displaySpecialPage?pageId=856"
                        >Commercial Use</a
                      > articles.
                    </p>
                    <p>
                      The software engineering (SE) community and the
                      programming language theory (PLT) community have
                      traditionally been quite separate. This has led to much
                      duplication of work. For example, it is well known that <a
                        href="http://hdl.handle.net/1721.1/6686"
                        >patterns are language features</a
                      >, indicating that the two communities have essentially
                      been solving the same problems from different angles. The
                      SE field assumes the language is fixed, and so develops
                      abstractions (i.e. patterns) that exist above the level of
                      code. The PLT researcher changes the language to directly
                      express the abstraction. The SE approach is pragmatic but
                      inelegant. The promise of the PLT approach has been
                      retaining elegance (with associated reduction in
                      development and maintenance cost), but the cost of
                      adopting a new language is often seen as too high.
                      (Incidentally, solving this problem is why you want a
                      language with macros. I.e. Scheme.)
                    </p>
                    <p>
                      That the JFP is looking to publish essentially SE articles
                      is definitely a good thing. It will, however, be
                      interesting to see how the community adapts to members
                      with quite different aims and values to the typical PLT
                      researcher. For example, the PLT researcher is very
                      focused on formality, and in particular giving precise
                      semantics to language constructs. This leads to a style
                      that deals with concepts in a very abstract mathematical
                      manner. While powerful this is certainly not the best
                      presentation for a working programmer to learn from.
                      Consider, for example, <a
                        href="http://homepages.inf.ed.ac.uk/wadler/papers/monads/monads.ps"
                        >Comprehending monads</a
                      >, which aims to be an easy introduction to monads. Given
                      that this paper was published in 1992, we can see its
                      ineffectiveness <em>as a tutorial</em> by considering the
                      zillions of monad tutorials that have been written since.
                      The problem is the abstract style of presentation. While
                      presenting in an abstract style allows you to generalise
                      to many different situations, people work best going from
                      the specific to the general. <a
                        href="http://www.ccs.neu.edu/home/dherman/research/tutorials/monads-for-schemers.txt"
                        >Better tutorials</a
                      > start with a concrete example, and abstract from there.
                      The question for the PLT community is how they will
                      accommodate the desire for less formality and abstraction
                      from the working programmer when one of the key
                      differentiating factors between SE and PLT is the use of
                      formalisms. If the right balance can be found this will be
                      a great thing for both researchers and practitioners.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/code/" rel="category tag"
                      >Code</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Commercial use articles in the Journal of Functional
                        Programming</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <nav>
              <div class="row">
                <div class="span8 offset2">
                  <span class="newer"
                    ><a href="/untyping/category/code/"
                      >&laquo; Newer Entries</a
                    ></span
                  >
                  <span class="older"
                    ><a href="/untyping/category/code/page/3/"
                      >Older Entries &raquo;</a
                    ></span
                  >
                  <div class="clear"></div>
                </div>
              </div>
            </nav>
          </div>
          <div class="span2">
            <div id="sidebar" class="small column two-of-two width300">
              <ul>
                <li id="search-2" class="widget widget_search">
                  <form
                    role="search"
                    method="get"
                    id="searchform"
                    class="searchform"
                    action="/"
                  >
                    <div>
                      <label class="screen-reader-text" for="s"
                        >Search for:</label
                      >
                      <input type="text" value="" name="s" id="s" />
                      <input type="submit" id="searchsubmit" value="Search" />
                    </div>
                  </form>
                </li>
                <li id="recent-posts-2" class="widget widget_recent_entries">
                  <h2 class="widgettitle">Recent Posts</h2>
                  <ul>
                    <li>
                      <a
                        href="/untyping/2013/08/07/writing-documentation-using-grunt-and-jekyll/"
                        >Writing Documentation using Grunt and Jekyll</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2012/10/19/meanwhile-at-untyped-hq/"
                        >Meanwhile, at Untyped HQ&#8230;</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2012/08/28/new-site/">New site</a>
                    </li>
                    <li>
                      <a
                        href="/untyping/2012/06/06/myna-for-wordpress-available-now/"
                        >Myna for WordPress available now!</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2011/10/20/the-circus-is-in-town/"
                        >The Circus is in Town</a
                      >
                    </li>
                  </ul>
                </li>
                <li
                  id="recent-comments-2"
                  class="widget widget_recent_comments"
                >
                  <h2 class="widgettitle">Recent Comments</h2>
                  <ul id="recentcomments"></ul>
                </li>
                <li id="archives-2" class="widget widget_archive">
                  <h2 class="widgettitle">Archives</h2>
                  <ul>
                    <li><a href="/untyping/2013/08/">August 2013</a></li>
                    <li><a href="/untyping/2012/10/">October 2012</a></li>
                    <li><a href="/untyping/2012/08/">August 2012</a></li>
                    <li><a href="/untyping/2012/06/">June 2012</a></li>
                    <li><a href="/untyping/2011/10/">October 2011</a></li>
                    <li><a href="/untyping/2011/09/">September 2011</a></li>
                    <li><a href="/untyping/2011/08/">August 2011</a></li>
                    <li><a href="/untyping/2011/05/">May 2011</a></li>
                    <li><a href="/untyping/2011/03/">March 2011</a></li>
                    <li><a href="/untyping/2011/02/">February 2011</a></li>
                    <li><a href="/untyping/2011/01/">January 2011</a></li>
                    <li><a href="/untyping/2010/12/">December 2010</a></li>
                    <li><a href="/untyping/2010/11/">November 2010</a></li>
                    <li><a href="/untyping/2010/10/">October 2010</a></li>
                    <li><a href="/untyping/2010/07/">July 2010</a></li>
                    <li><a href="/untyping/2010/06/">June 2010</a></li>
                    <li><a href="/untyping/2010/05/">May 2010</a></li>
                    <li><a href="/untyping/2010/04/">April 2010</a></li>
                    <li><a href="/untyping/2010/03/">March 2010</a></li>
                    <li><a href="/untyping/2010/02/">February 2010</a></li>
                    <li><a href="/untyping/2010/01/">January 2010</a></li>
                    <li><a href="/untyping/2009/07/">July 2009</a></li>
                    <li><a href="/untyping/2009/06/">June 2009</a></li>
                    <li><a href="/untyping/2009/04/">April 2009</a></li>
                    <li><a href="/untyping/2009/03/">March 2009</a></li>
                    <li><a href="/untyping/2009/01/">January 2009</a></li>
                    <li><a href="/untyping/2008/11/">November 2008</a></li>
                    <li><a href="/untyping/2008/10/">October 2008</a></li>
                    <li><a href="/untyping/2008/09/">September 2008</a></li>
                    <li><a href="/untyping/2008/08/">August 2008</a></li>
                    <li><a href="/untyping/2008/07/">July 2008</a></li>
                    <li><a href="/untyping/2008/06/">June 2008</a></li>
                    <li><a href="/untyping/2008/05/">May 2008</a></li>
                    <li><a href="/untyping/2008/04/">April 2008</a></li>
                    <li><a href="/untyping/2008/03/">March 2008</a></li>
                    <li><a href="/untyping/2008/02/">February 2008</a></li>
                    <li><a href="/untyping/2008/01/">January 2008</a></li>
                    <li><a href="/untyping/2007/12/">December 2007</a></li>
                    <li><a href="/untyping/2007/11/">November 2007</a></li>
                    <li><a href="/untyping/2007/10/">October 2007</a></li>
                    <li><a href="/untyping/2007/09/">September 2007</a></li>
                    <li><a href="/untyping/2007/08/">August 2007</a></li>
                    <li><a href="/untyping/2007/07/">July 2007</a></li>
                    <li><a href="/untyping/2007/06/">June 2007</a></li>
                    <li><a href="/untyping/2007/05/">May 2007</a></li>
                    <li><a href="/untyping/2007/04/">April 2007</a></li>
                    <li><a href="/untyping/2007/03/">March 2007</a></li>
                    <li><a href="/untyping/2007/02/">February 2007</a></li>
                    <li><a href="/untyping/2007/01/">January 2007</a></li>
                    <li><a href="/untyping/2006/12/">December 2006</a></li>
                    <li><a href="/untyping/2006/11/">November 2006</a></li>
                    <li><a href="/untyping/2006/10/">October 2006</a></li>
                    <li><a href="/untyping/2006/09/">September 2006</a></li>
                    <li><a href="/untyping/2006/08/">August 2006</a></li>
                    <li><a href="/untyping/2006/07/">July 2006</a></li>
                    <li><a href="/untyping/2006/06/">June 2006</a></li>
                    <li><a href="/untyping/2006/05/">May 2006</a></li>
                    <li><a href="/untyping/2006/04/">April 2006</a></li>
                    <li><a href="/untyping/2006/03/">March 2006</a></li>
                    <li><a href="/untyping/2006/02/">February 2006</a></li>
                    <li><a href="/untyping/2006/01/">January 2006</a></li>
                    <li><a href="/untyping/2005/12/">December 2005</a></li>
                    <li><a href="/untyping/2005/11/">November 2005</a></li>
                    <li><a href="/untyping/2005/10/">October 2005</a></li>
                    <li><a href="/untyping/2005/09/">September 2005</a></li>
                    <li><a href="/untyping/2005/08/">August 2005</a></li>
                    <li><a href="/untyping/2005/07/">July 2005</a></li>
                    <li><a href="/untyping/2005/06/">June 2005</a></li>
                    <li><a href="/untyping/2005/05/">May 2005</a></li>
                    <li><a href="/untyping/2005/04/">April 2005</a></li>
                  </ul>
                </li>
                <li id="categories-2" class="widget widget_categories">
                  <h2 class="widgettitle">Categories</h2>
                  <ul>
                    <li class="cat-item cat-item-10">
                      <a href="/untyping/category/business/">Business</a>
                    </li>
                    <li class="cat-item cat-item-7 current-cat">
                      <a aria-current="page" href="/untyping/category/code/"
                        >Code</a
                      >
                    </li>
                    <li class="cat-item cat-item-11">
                      <a href="/untyping/category/design/">Design</a>
                    </li>
                    <li class="cat-item cat-item-3">
                      <a href="/untyping/category/front-page/">Front page</a>
                    </li>
                    <li class="cat-item cat-item-9">
                      <a href="/untyping/category/fun/">Fun</a>
                    </li>
                    <li class="cat-item cat-item-6">
                      <a href="/untyping/category/functional-programming/"
                        >Functional Programming</a
                      >
                    </li>
                    <li class="cat-item cat-item-1">
                      <a href="/untyping/category/general/">General</a>
                    </li>
                    <li class="cat-item cat-item-12">
                      <a href="/untyping/category/javascript/">Javascript</a>
                    </li>
                    <li class="cat-item cat-item-14">
                      <a href="/untyping/category/kahu/">Kahu</a>
                    </li>
                    <li class="cat-item cat-item-4">
                      <a href="/untyping/category/myna/">Myna</a>
                    </li>
                    <li class="cat-item cat-item-13">
                      <a href="/untyping/category/racket/">Racket</a>
                    </li>
                    <li class="cat-item cat-item-8">
                      <a href="/untyping/category/scala/">Scala</a>
                    </li>
                    <li class="cat-item cat-item-5">
                      <a href="/untyping/category/web-development/"
                        >Web development</a
                      >
                    </li>
                  </ul>
                </li>
                <li id="meta-2" class="widget widget_meta">
                  <h2 class="widgettitle">Meta</h2>
                  <ul>
                    <li><a href="/wp-login.php">Log in</a></li>
                    <li><a href="/feed/">Entries feed</a></li>
                    <li><a href="/comments/feed/">Comments feed</a></li>

                    <li>
                      <a href="https://en-gb.wordpress.org/">WordPress.org</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer id="contact">
      <div class="shadow top"></div>

      <div class="container">
        <h2>Stay in touch</h2>

        <dl>
          <dt>Telephone</dt>
          <dd><a href="callto:+441212857400">0121 285 7400</a></dd>

          <dt>Email</dt>
          <dd>
            <span class="email"
              ><span class="recipient">info</span> at
              <span class="domain">untyped</span></span
            >
          </dd>

          <dt>Twitter</dt>
          <dd><a href="http://twitter.com/untyped">@untyped</a></dd>

          <dt>Address</dt>
          <dd>
            <address>
              Untyped<br />
              The Skiff<br />
              30 Cheapside<br />
              Brighton BN1 4GD
            </address>
          </dd>

          <dt>UK company number</dt>
          <dd>06226466</dd>

          <dt>UK VAT number</dt>
          <dd>941 0528 46</dd>
        </dl>

        <p class="copyright">
          Copyright 2009 to 2017 <a href="/">Untyped Ltd</a>. Powered by
          <a href="http://wordpress.org/" class="nocolor">WordPress</a>.
          <a href="/terms" class="nocolor">Terms of use</a>.
        </p>
      </div>
    </footer>

    <script
      src="http://www.google-analytics.com/urchin.js"
      type="text/javascript"
    ></script>
    <script type="text/javascript">
      _uacct = "UA-183641-1";
      urchinTracker();
    </script>

    <script src="//code.jquery.com/jquery-1.8.0.min.js"></script>
    <script src="/scripts/untyped.js"></script>
  </body>
</html>
