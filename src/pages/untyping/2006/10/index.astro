---
import Footer from "@components/Footer.astro";
---

<!doctype html>
<html id="untyping" lang="en">
  <head>
    <title>October - 2006 - Untyping</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <link rel="stylesheet" type="text/css" href="/styles/screen.css" />


    </style>

  </head>

  <body class="myna" data-goal="load">
    <header id="top">
      <div class="container">
        <div class="row">
          <div class="span5 offset7">
            <div class="overlay title">
              <a href="/untyping">
                <h1>
                  <img src="/styles/images/untyping-logo.png" alt="Untyping" />
                </h1>
                <span class="strapline">The Untyped Weblog.</span>
              </a>
            </div>

            <div class="overlay about">
              Read on or <a href="/">return home.</a>
            </div>
          </div>
        </div>
      </div>

      <div class="shadow bottom"></div>
    </header>

    <div id="navbar-wrapper">
      <nav id="navbar" class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <ul class="nav">
              <li><a href="/#top">Home</a></li>
              <li><a href="/untyping">Weblog</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>

    <div class="shadow-wrapper">
      <div class="shadow top light"></div>

      <div class="container">
        <h1 class="pagetitle">Archive for October, 2006</h1>

        <div class="row">
          <div id="blog" class="span10">
            <section
              id="post-242"
              class="post-242 post type-post status-publish format-standard hentry category-fun"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">26 Oct 2006</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2006/10/26/paperback-ipod/"
                      rel="bookmark"
                      title="Permanent Link to Paperback iPod">Paperback iPod</a
                    >
                  </h2>

                  <div class="entry">
                    <p>£9.95 RRP for an iPod? Maybe.</p>
                    <blockquote>
                      <p>
                        The iPod has also benefited from a more crowded world.
                        The academic literature surrounding personal stereos
                        frequently references the 19th-century German
                        sociologist Georg Simmel, who was one of the first to
                        detail the acute horror of the urban commute:
                      </p>
                      <blockquote>
                        <p>
                          Before the development of buses, railroads and trams
                          in the nineteenth century, people had never been in a
                          position of having to look at one another for long
                          minutes or even hours without speaking to one another.
                        </p>
                      </blockquote>
                      <p>
                        Europeans responded to the new reality by keeping silent
                        and expecting the courtesy of not being spoken to. That
                        strategy wasn’t always successful. They also started
                        reading. Books, in effect, were the original iPods.
                      </p>
                      <p>
                        <a
                          title="Has the iPod changed anything? - By Michael Agger - Slate Magazine"
                          href="http://www.slate.com/id/2152197/"
                          >Has the iPod changed anything? – By Michael Agger –
                          Slate Magazine</a
                        >
                      </p>
                    </blockquote>
                    <p>
                      <em>Acute horror</em>? That’s a bit strong. Otherwise an
                      interesting point. Books are certainly cheaper, and they
                      come in a wider range of colours.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/fun/" rel="category tag">Fun</a>
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Paperback iPod</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-244"
              class="post-244 post type-post status-publish format-standard hentry category-web-development"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">25 Oct 2006</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2006/10/25/firefox-2-0-review/"
                      rel="bookmark"
                      title="Permanent Link to Firefox 2.0 Review"
                      >Firefox 2.0 Review</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      I’m editing this post using the<br />
                      <a href="https://addons.mozilla.org/firefox/1730/"
                        >Performancing</a
                      > extension for the new <a
                        href="http://www.mozilla.com/en-US/press/mozilla-2006-10-24.html"
                        >Firefox 2.0</a
                      > browser. Being a web whore I simply had to download the
                      latest version of Firefox as soon as it was out.
                    </p>
                    <p>
                      If anything, Firefox 2.0 is proof that the browser is now
                      a stable product. The changes from 1.5 are incremental.
                      There is nothing that particularly excites me on the user
                      end.
                    </p>
                    <p>
                      From the point of view of a <a
                        href="http://developer.mozilla.org/en/docs/Firefox_2_for_developers"
                        >developer</a
                      >, it’s a different story. Javascript 1.7 continues the
                      evolution of Javascript from a hairball to a language you
                      wouldn’t be embarassed to take to school to meet your
                      Professors. Array comprehensions, proper lexical scoping,
                      and generators are the main features. Support for the <a
                        href="http://www.whatwg.org/specs/web-apps/current-work/#scs-client-side"
                        >WhatWG client-side session and persistent store</a
                      > adds more possibilities for storing continuations on the
                      client-side. I’m interested to see that their motivating
                      example is exactly the same as the one <a
                        href="http://www.cs.brown.edu/~sk/">Shriram</a
                      > uses when proselytizing continuations (the “Orbitz
                      bug”).
                    </p>
                    <p>
                      Of course, to use most of this you’re stuck with Firefox.
                      However, as Firefox evolves further from the functionality
                      offered by IE it becomes more compelling as a platform is
                      its own right. Some<a
                        href="http://37signals.com/svn/archives2/browser_stats.php"
                        >browser stats</a
                      > show encouraging numbers of people are using Firefox.
                      Give it a few years and IE support may legitimately be
                      optional.
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a
                      href="/untyping/category/web-development/"
                      rel="category tag">Web development</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Firefox 2.0 Review</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-246"
              class="post-246 post type-post status-publish format-standard hentry category-web-development"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">11 Oct 2006</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2006/10/11/debugging-file-handle-exhaustion/"
                      rel="bookmark"
                      title="Permanent Link to Debugging File Handle Exhaustion"
                      >Debugging File Handle Exhaustion</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      Dave has been working like a maniac to switch our database
                      code over from SQLite to PostgreSQL. PostgreSQL has two
                      main advantages: it is much faster, and we can open up
                      ODBC connections to the database for other uses that don’t
                      require a web interface. The change is now complete,
                      however it hasn’t been without some difficulties. One
                      problem that bit us was running out of file handles. If
                      you ever have a similar problem, here is how to debug it.
                    </p>
                    <p>
                      On Linux the <code>/proc</code> filesystem reflects a
                      great many kernel resources. The particularly interesting
                      directories for our purposes are:
                    </p>
                    <ul>
                      <li>
                        The files <code>file-nr</code> and <code>file-max</code
                        > in <code>/proc/sys/fs</code>.
                      </li>
                      <li>The per process directories keyed by process ID</li>
                    </ul>
                    <p>
                      The first thing to check is the value of <code
                        >/proc/sys/fs/file-max</code
                      >, which is the maximum number of file handles allowed on
                      your system. This shouldn’t be a problem, but just ensure
                      it isn’t something ridiculously small. On our system we
                      get:
                    </p>
                    <blockquote>
                      <p>
                        <code
                          >$ cat /proc/sys/fs/file-max<br />
                          89367<br />
                        </code>
                      </p>
                    </blockquote>
                    <p>
                      That should be plenty under any reasonable usage, but we
                      can check how many file handles are open by reading the
                      value of<code>/proc/sys/fs/file-nr</code>. On our system
                      this is:
                    </p>
                    <blockquote>
                      <p>
                        <code
                          >$ cat /proc/sys/fs/file-nr<br />
                          920 0 89367</code
                        >
                      </p>
                    </blockquote>
                    <p>
                      This first number is the number of file handles in use.
                      Definitely no problem there. It must be that a process is
                      exceeding the per-process limit on file handles. In our
                      setup this could be either PostgreSQL or MzScheme. We need
                      the process IDs to find out how many handles each is
                      using.
                    </p>
                    <blockquote>
                      <p>
                        <code
                          >$ ps -A | grep postmaster<br />
                          12936 ? 00:00:00 postmaster<br />
                          12937 ? 00:00:00 postmaster<br />
                          12939 ? 00:00:00 postmaster<br />
                          12940 ? 00:00:00 postmaster<br />
                          12941 ? 00:00:00 postmaster<br />
                          $ ps -A | grep mzscheme<br />
                          20382 ? 00:00:26 mzscheme</code
                        >
                      </p>
                      <p></p>
                    </blockquote>
                    <p>
                      We can see how many handles are in use by looking in the
                      directory for each process ID. For example, for the first
                      PostgeSQL process:
                    </p>
                    <blockquote>
                      <p>
                        <code
                          >$ sudo ls -l /proc/12936/fd/ | wc -l<br />
                          4</code
                        >
                      </p>
                    </blockquote>
                    <p>
                      So that PostgreSQL process is using 4 handles. The other
                      processes are using similar numbers. So it must be our
                      MzScheme process that is using up all the handles. We
                      check that in a similar way, and the result is:
                    </p>
                    <blockquote>
                      <p>
                        <code
                          >$ sudo ls -l /proc/20382/fd/ | grep socket | wc -l<br
                          />
                          193<br />
                        </code>
                      </p>
                    </blockquote>
                    <p>Looks like we’ve found our culprit.</p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a
                      href="/untyping/category/web-development/"
                      rel="category tag">Web development</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Debugging File Handle Exhaustion</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <section
              id="post-248"
              class="post-248 post type-post status-publish format-standard hentry category-general"
            >
              <div class="row">
                <div class="span2 meta">
                  <p class="date">10 Oct 2006</p>
                  <p class="author">by Noel</p>
                </div>

                <div class="span8">
                  <h2>
                    <a
                      href="/untyping/2006/10/10/think-fast-and-youll-feel-better-for-it/"
                      rel="bookmark"
                      title="Permanent Link to Think Fast and You’ll Feel Better For It"
                      >Think Fast and You’ll Feel Better For It</a
                    >
                  </h2>

                  <div class="entry">
                    <p>
                      Want to feel better? Think fast. A study shows that <a
                        title="Study explores 'manic' thinking"
                        href="http://www.eurekalert.org/pub_releases/2006-09/afps-se092606.php"
                        >people forced to think quickly feel better</a
                      >:
                    </p>
                    <blockquote>
                      <p>
                        [Emily] Pronin and … Daniel Wegner … experimentally
                        manipulated the pace at which participants read a series
                        of statements … The researchers found that regardless of
                        the content of the statements, people felt happier, more
                        energetic, more creative, more powerful, and more
                        grandiose when they read the statements at a fast rather
                        than a slow pace.
                      </p>
                    </blockquote>
                    <p>
                      This type of behaviour is very similar to manic behaviour,
                      so whether it is beneficial in the long term in debatable,
                      but it’s at least an interesting result. Perhaps it
                      explains why so many of us put off work till the last
                      minute — we want the rush of working at a fast pace. At
                      least we now have a plausible argument for such behaviour!
                    </p>
                  </div>

                  <p class="tags">
                    Posted in
                    <a href="/untyping/category/general/" rel="category tag"
                      >General</a
                    >
                    |
                    <span
                      >Comments Off<span class="screen-reader-text">
                        on Think Fast and You’ll Feel Better For It</span
                      ></span
                    >
                  </p>
                </div>
              </div>
            </section>

            <nav>
              <div class="row">
                <div class="span8 offset2">
                  <span class="newer"></span>
                  <span class="older"></span>
                  <div class="clear"></div>
                </div>
              </div>
            </nav>
          </div>
          <div class="span2">
            <div id="sidebar" class="small column two-of-two width300">
              <ul>
                <li id="recent-posts-2" class="widget widget_recent_entries">
                  <h2 class="widgettitle">Recent Posts</h2>
                  <ul>
                    <li>
                      <a
                        href="/untyping/2013/08/07/writing-documentation-using-grunt-and-jekyll/"
                        >Writing Documentation using Grunt and Jekyll</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2012/10/19/meanwhile-at-untyped-hq/"
                        >Meanwhile, at Untyped HQ&#8230;</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2012/08/28/new-site/">New site</a>
                    </li>
                    <li>
                      <a
                        href="/untyping/2012/06/06/myna-for-wordpress-available-now/"
                        >Myna for WordPress available now!</a
                      >
                    </li>
                    <li>
                      <a href="/untyping/2011/10/20/the-circus-is-in-town/"
                        >The Circus is in Town</a
                      >
                    </li>
                  </ul>
                </li>
                <li
                  id="recent-comments-2"
                  class="widget widget_recent_comments"
                >
                  <h2 class="widgettitle">Recent Comments</h2>
                  <ul id="recentcomments"></ul>
                </li>
                <li id="archives-2" class="widget widget_archive">
                  <h2 class="widgettitle">Archives</h2>
                  <ul>
                    <li><a href="/untyping/2013/08/">August 2013</a></li>
                    <li><a href="/untyping/2012/10/">October 2012</a></li>
                    <li><a href="/untyping/2012/08/">August 2012</a></li>
                    <li><a href="/untyping/2012/06/">June 2012</a></li>
                    <li><a href="/untyping/2011/10/">October 2011</a></li>
                    <li><a href="/untyping/2011/09/">September 2011</a></li>
                    <li><a href="/untyping/2011/08/">August 2011</a></li>
                    <li><a href="/untyping/2011/05/">May 2011</a></li>
                    <li><a href="/untyping/2011/03/">March 2011</a></li>
                    <li><a href="/untyping/2011/02/">February 2011</a></li>
                    <li><a href="/untyping/2011/01/">January 2011</a></li>
                    <li><a href="/untyping/2010/12/">December 2010</a></li>
                    <li><a href="/untyping/2010/11/">November 2010</a></li>
                    <li><a href="/untyping/2010/10/">October 2010</a></li>
                    <li><a href="/untyping/2010/07/">July 2010</a></li>
                    <li><a href="/untyping/2010/06/">June 2010</a></li>
                    <li><a href="/untyping/2010/05/">May 2010</a></li>
                    <li><a href="/untyping/2010/04/">April 2010</a></li>
                    <li><a href="/untyping/2010/03/">March 2010</a></li>
                    <li><a href="/untyping/2010/02/">February 2010</a></li>
                    <li><a href="/untyping/2010/01/">January 2010</a></li>
                    <li><a href="/untyping/2009/07/">July 2009</a></li>
                    <li><a href="/untyping/2009/06/">June 2009</a></li>
                    <li><a href="/untyping/2009/04/">April 2009</a></li>
                    <li><a href="/untyping/2009/03/">March 2009</a></li>
                    <li><a href="/untyping/2009/01/">January 2009</a></li>
                    <li><a href="/untyping/2008/11/">November 2008</a></li>
                    <li><a href="/untyping/2008/10/">October 2008</a></li>
                    <li><a href="/untyping/2008/09/">September 2008</a></li>
                    <li><a href="/untyping/2008/08/">August 2008</a></li>
                    <li><a href="/untyping/2008/07/">July 2008</a></li>
                    <li><a href="/untyping/2008/06/">June 2008</a></li>
                    <li><a href="/untyping/2008/05/">May 2008</a></li>
                    <li><a href="/untyping/2008/04/">April 2008</a></li>
                    <li><a href="/untyping/2008/03/">March 2008</a></li>
                    <li><a href="/untyping/2008/02/">February 2008</a></li>
                    <li><a href="/untyping/2008/01/">January 2008</a></li>
                    <li><a href="/untyping/2007/12/">December 2007</a></li>
                    <li><a href="/untyping/2007/11/">November 2007</a></li>
                    <li><a href="/untyping/2007/10/">October 2007</a></li>
                    <li><a href="/untyping/2007/09/">September 2007</a></li>
                    <li><a href="/untyping/2007/08/">August 2007</a></li>
                    <li><a href="/untyping/2007/07/">July 2007</a></li>
                    <li><a href="/untyping/2007/06/">June 2007</a></li>
                    <li><a href="/untyping/2007/05/">May 2007</a></li>
                    <li><a href="/untyping/2007/04/">April 2007</a></li>
                    <li><a href="/untyping/2007/03/">March 2007</a></li>
                    <li><a href="/untyping/2007/02/">February 2007</a></li>
                    <li><a href="/untyping/2007/01/">January 2007</a></li>
                    <li><a href="/untyping/2006/12/">December 2006</a></li>
                    <li><a href="/untyping/2006/11/">November 2006</a></li>
                    <li>
                      <a href="/untyping/2006/10/" aria-current="page"
                        >October 2006</a
                      >
                    </li>
                    <li><a href="/untyping/2006/09/">September 2006</a></li>
                    <li><a href="/untyping/2006/08/">August 2006</a></li>
                    <li><a href="/untyping/2006/07/">July 2006</a></li>
                    <li><a href="/untyping/2006/06/">June 2006</a></li>
                    <li><a href="/untyping/2006/05/">May 2006</a></li>
                    <li><a href="/untyping/2006/04/">April 2006</a></li>
                    <li><a href="/untyping/2006/03/">March 2006</a></li>
                    <li><a href="/untyping/2006/02/">February 2006</a></li>
                    <li><a href="/untyping/2006/01/">January 2006</a></li>
                    <li><a href="/untyping/2005/12/">December 2005</a></li>
                    <li><a href="/untyping/2005/11/">November 2005</a></li>
                    <li><a href="/untyping/2005/10/">October 2005</a></li>
                    <li><a href="/untyping/2005/09/">September 2005</a></li>
                    <li><a href="/untyping/2005/08/">August 2005</a></li>
                    <li><a href="/untyping/2005/07/">July 2005</a></li>
                    <li><a href="/untyping/2005/06/">June 2005</a></li>
                    <li><a href="/untyping/2005/05/">May 2005</a></li>
                    <li><a href="/untyping/2005/04/">April 2005</a></li>
                  </ul>
                </li>
                <li id="categories-2" class="widget widget_categories">
                  <h2 class="widgettitle">Categories</h2>
                  <ul>
                    <li class="cat-item cat-item-10">
                      <a href="/untyping/category/business/">Business</a>
                    </li>
                    <li class="cat-item cat-item-7">
                      <a href="/untyping/category/code/">Code</a>
                    </li>
                    <li class="cat-item cat-item-11">
                      <a href="/untyping/category/design/">Design</a>
                    </li>
                    <li class="cat-item cat-item-3">
                      <a href="/untyping/category/front-page/">Front page</a>
                    </li>
                    <li class="cat-item cat-item-9">
                      <a href="/untyping/category/fun/">Fun</a>
                    </li>
                    <li class="cat-item cat-item-6">
                      <a href="/untyping/category/functional-programming/"
                        >Functional Programming</a
                      >
                    </li>
                    <li class="cat-item cat-item-1">
                      <a href="/untyping/category/general/">General</a>
                    </li>
                    <li class="cat-item cat-item-12">
                      <a href="/untyping/category/javascript/">Javascript</a>
                    </li>
                    <li class="cat-item cat-item-14">
                      <a href="/untyping/category/kahu/">Kahu</a>
                    </li>
                    <li class="cat-item cat-item-4">
                      <a href="/untyping/category/myna/">Myna</a>
                    </li>
                    <li class="cat-item cat-item-13">
                      <a href="/untyping/category/racket/">Racket</a>
                    </li>
                    <li class="cat-item cat-item-8">
                      <a href="/untyping/category/scala/">Scala</a>
                    </li>
                    <li class="cat-item cat-item-5">
                      <a href="/untyping/category/web-development/"
                        >Web development</a
                      >
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <Footer />

    <script
      src="http://www.google-analytics.com/urchin.js"
      type="text/javascript"></script>
    <script type="text/javascript">
      _uacct = "UA-183641-1";
      urchinTracker();
    </script>
    <script is:inline src="//code.jquery.com/jquery-1.8.0.min.js"></script>
    <script is:inline src="/scripts/untyped.js"></script>
  </body>
</html>
